{
	"info": {
		"_postman_id": "e0eea81b-e0c6-4bb8-b59f-1ca92533ccff",
		"name": "SIBE",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "12371449"
	},
	"item": [
		{
			"name": "MODULO 2",
			"item": [
				{
					"name": "Usuarios",
					"item": [
						{
							"name": "Register",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"nombre\": \"Michael Richards Sparks\",\r\n  \"username\": \"mrichards\",\r\n  \"correo\": \"s.jeykime@gmail.com\",\r\n  \"clave\": \"Mrichards1-\",\r\n  \"rol\": \"ADMIN\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/register",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"register"
									]
								}
							},
							"response": []
						},
						{
							"name": "Login",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"username\": \"mrichards\",\r\n  \"clave\": \"Mrichards1-\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/login",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"login"
									]
								}
							},
							"response": []
						},
						{
							"name": "Refresh token",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"usuarioId\": 10,\r\n  \"accessTokenExpirado\": \"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiJib2RlZ2FBc2lzdGVudGVzIiwiZW1haWwiOiJhc2lzdGVudGVzaWVAZ21haWwuY29tIiwicm9sZSI6IkFTSVNURU5URSIsIm5iZiI6MTcwNjgxNDg1OSwiZXhwIjoxNzA2ODE0OTE5LCJpYXQiOjE3MDY4MTQ4NTl9.6oiIADWD4eUzrZwEvSEtqu36tkRDPO7I3Q4eOnye0HZl0BIzZ_anf9nHdOUBWxZzE7RDJeIrBdr7C__r8U6sOQ\",\r\n  \"refreshToken\": \"rhCCgKgJINa13u4Cfw+8B1z8xj0obZ/LQhk/ZZolSwweTWDnXOTsiFbfdLkVQOdPZXJqklI9vwAPvFhFZlIAcg==\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/refresh-token",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"refresh-token"
									]
								}
							},
							"response": []
						},
						{
							"name": "Olvidé mi contraseña",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"username\": \"mrichards\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/forgot-password",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"forgot-password"
									]
								}
							},
							"response": []
						},
						{
							"name": "Cambiar mi contraseña",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"usuarioCorreo\": \"s.jeykime@gmail.com\",\r\n  \"claveNueva\": \"Mrichards1-\",\r\n  \"claveTemporal\": \"570681\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/change-password",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"change-password"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Asistentes",
					"item": [
						{
							"name": "Registro de asistentes",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "[\r\n  {\r\n    \"carne\": \"2000000000\",\r\n    \"nombre\": \"Carlos Gonzalez\",\r\n    \"correo\": \"jeykimers.johnson@estudiantec.cr\"\r\n  },\r\n  {\r\n    \"carne\": \"2000000001\",\r\n    \"nombre\": \"Ana Rodriguez\",\r\n    \"correo\": \"jeykimers.johnson@estudiantec.cr\"\r\n  },\r\n  {\r\n    \"carne\": \"2000000002\",\r\n    \"nombre\": \"Luis Fernández\",\r\n    \"correo\": \"jeykimers.johnson@estudiantec.cr\"\r\n  }\r\n]",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/asistentes/registrar",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"asistentes",
										"registrar"
									]
								}
							},
							"response": []
						},
						{
							"name": "Registro de credenciales para un asistente especifico",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"pin\": \"1234\",\r\n  \"huellaDigitalImagen\": \"huelladigitalprueba\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/asistentes/{{carne}}/inscribir/credenciales",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"asistentes",
										"{{carne}}",
										"inscribir",
										"credenciales"
									]
								}
							},
							"response": []
						},
						{
							"name": "Recuperacion de todos los asistentes",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/asistentes",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"asistentes"
									]
								}
							},
							"response": []
						},
						{
							"name": "Recuperacion de un asistente usando su carne",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}/api/asistentes/{{carne}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"asistentes",
										"{{carne}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Autenticacion con huella digital",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"huellaDigitalImagen\": \"huella\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/asistentes/autenticar/huella",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"asistentes",
										"autenticar",
										"huella"
									]
								}
							},
							"response": []
						},
						{
							"name": "Autenticacion con pin",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"carne\": \"2000000001\",\r\n  \"pin\": \"1234\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}/api/asistentes/autenticar/pin",
									"host": [
										"{{host}}"
									],
									"path": [
										"api",
										"asistentes",
										"autenticar",
										"pin"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "MODULO 3",
			"item": [
				{
					"name": "Registrar boleta prestamo",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"token\": \"{{asistenteToken}}\",\r\n  \"aprobador\": \"Leonardo Sandoval Cascante\",\r\n  \"carneSolicitante\": \"2018170668\",\r\n  \"tipoSolicitante\": \"ESTUDIANTE\",\r\n   \"equipo\": [\r\n    {\r\n      \"activoBodega\": \"BE000009\"\r\n    },\r\n    {\r\n      \"activoBodega\": \"BE000008\"\r\n    }\r\n  ],\r\n  \"componentes\": [\r\n    {\r\n      \"activoBodega\": \"BC000003\",\r\n      \"cantidad\": 60\r\n    },\r\n    {\r\n      \"activoBodega\": \"BC000002\",\r\n      \"cantidad\": 60\r\n    },\r\n    {\r\n      \"activoBodega\": \"BC000001\",\r\n      \"cantidad\": 106    \r\n    }\r\n  ]\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/boletas/registrar/prestamo",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"boletas",
								"registrar",
								"prestamo"
							]
						}
					},
					"response": []
				},
				{
					"name": "Registrar boleta devolución",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"token\": \"{{asistenteToken}}\",\r\n  \"carneSolicitante\": \"2018170668\",\r\n  \"tipoSolicitante\": \"ESTUDIANTE\",\r\n  \"equipo\": [\r\n    {\r\n      \"activoBodega\": \"BE000008\",\r\n      \"observaciones\": \"Presenta un raspón\"\r\n    },\r\n    {\r\n      \"activoBodega\": \"BE000009\",\r\n      \"observaciones\": \"Presenta herrumbre\"\r\n    }\r\n  ],\r\n  \"componentes\": [\r\n    {\r\n      \"activoBodega\": \"BC000002\",\r\n      \"cantidad\": 60\r\n    },\r\n    {\r\n      \"activoBodega\": \"BC000001\",\r\n      \"cantidad\": 106,\r\n      \"observaciones\": \"Se dañó uno\"\r\n    },\r\n    {\r\n      \"activoBodega\": \"BC000003\",\r\n      \"cantidad\": 60\r\n    }\r\n  ]\r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/boletas/registrar/devolucion/10",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"boletas",
								"registrar",
								"devolucion",
								"10"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar boletas pendientes de un estudiante",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/boletas/2018170668",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"boletas",
								"2018170668"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar boletas existentes",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/boletas",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"boletas"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar boletas por rango fechas",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}/api/boletas/fecha/2024-01-08/2025-01-08",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"boletas",
								"fecha",
								"2024-01-08",
								"2025-01-08"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar HTML boleta",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "text"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/boletas/10/html",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"boletas",
								"10",
								"html"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar PDF boleta",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "text"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/boletas/10/pdf",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"boletas",
								"10",
								"pdf"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enviar por correro la boleta",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "<Boleta>\r\n    <Consecutivo>20240801212631</Consecutivo>\r\n    <Estado>CERRADO</Estado>\r\n    <CarneAsistente>2000000001</CarneAsistente>\r\n    <NombreAsistente>ANA RODRIGUEZ</NombreAsistente>\r\n    <Fecha>08/01/2024</Fecha>\r\n    <Hora>09:26 p. m.</Hora>\r\n    <Solicitante>\r\n        <Nombre>PRUEBA ESTUDIANTE</Nombre>\r\n        <Tipo>ESTUDIANTE</Tipo>\r\n        <Correo>estudiante@gmail.com</Correo>\r\n    </Solicitante>\r\n    <DetalleActivos>\r\n        <Equipo>\r\n            <Item>\r\n                <Codigo>BE000001</Codigo>\r\n                <Detalle>Coby LCD con adaptador de 12V</Detalle>\r\n                <Observaciones>Pantalla con control remoto, cable de alimentacion, cable VGA,  Cable A/V</Observaciones>\r\n            </Item>\r\n            <Item>\r\n                <Codigo>BE000002</Codigo>\r\n                <Detalle>Coby LCD con adaptador de 12V</Detalle>\r\n                <Observaciones>Pantalla con control remoto, cable de alimentacion, cable VGA,  Cable A/V</Observaciones>\r\n            </Item>\r\n            <Item>\r\n                <Codigo>BE000003</Codigo>\r\n                <Detalle>Coby LCD con adaptador de 12V</Detalle>\r\n                <Observaciones>Pantalla con control remoto, cable de alimentacion, cable VGA,  Cable A/V</Observaciones>\r\n            </Item>\r\n        </Equipo>\r\n        <Componentes>\r\n            <Item>\r\n                <Codigo>BC000001</Codigo>\r\n                <Detalle>Octal Transparent Latch w/ Three-State Outputs</Detalle>\r\n                <Cantidad>10</Cantidad>\r\n                <Observaciones></Observaciones>\r\n            </Item>\r\n            <Item>\r\n                <Codigo>BC000002</Codigo>\r\n                <Detalle>Dual 4-bit Decade counter</Detalle>\r\n                <Cantidad>64</Cantidad>\r\n                <Observaciones></Observaciones>\r\n            </Item>\r\n            <Item>\r\n                <Codigo>BC000003</Codigo>\r\n                <Detalle>Octal D-Type Triggered Flip-Flop w/Three State Outputs</Detalle>\r\n                <Cantidad>6</Cantidad>\r\n                <Observaciones>Brillo bajo</Observaciones>\r\n            </Item>\r\n        </Componentes>\r\n    </DetalleActivos>\r\n</Boleta>",
							"options": {
								"raw": {
									"language": "xml"
								}
							}
						},
						"url": {
							"raw": "{{host}}/api/boletas/10/enviar-correo",
							"host": [
								"{{host}}"
							],
							"path": [
								"api",
								"boletas",
								"10",
								"enviar-correo"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{accessToken}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "host",
			"value": "http://localhost:5145"
		},
		{
			"key": "carne",
			"value": "2000000001"
		}
	]
}